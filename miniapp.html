<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>OddsBot</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">
<style>
  :root {
    /* Telegram theme - overridden by SDK at runtime */
    --tg-theme-bg-color: #1C1C1E;
    --tg-theme-secondary-bg-color: #2C2C2E;
    --tg-theme-text-color: #FFFFFF;
    --tg-theme-hint-color: #8E8E93;
    --tg-theme-link-color: #0A84FF;
    --tg-theme-button-color: #34C759;
    --tg-theme-button-text-color: #FFFFFF;

    /* Custom tokens */
    --card-bg: rgba(255,255,255,0.05);
    --card-border: rgba(255,255,255,0.08);
    --green: #34C759;
    --green-dim: rgba(52,199,89,0.12);
    --red: #FF453A;
    --red-dim: rgba(255,69,58,0.12);
    --amber: #FF9F0A;
    --amber-dim: rgba(255,159,10,0.12);
    --blue: #0A84FF;
    --mono: 'JetBrains Mono', monospace;
    --sans: 'DM Sans', -apple-system, sans-serif;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: var(--sans);
    background: var(--tg-theme-bg-color);
    color: var(--tg-theme-text-color);
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
    padding: 0 0 32px;
  }

  /* --- Animations --- */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes scaleIn {
    from { opacity: 0; transform: scale(0.92); }
    to { opacity: 1; transform: scale(1); }
  }
  .anim-1 { animation: fadeUp 0.4s ease both; }
  .anim-2 { animation: fadeUp 0.4s ease 0.08s both; }
  .anim-3 { animation: fadeUp 0.4s ease 0.16s both; }
  .anim-4 { animation: fadeUp 0.4s ease 0.24s both; }
  .anim-5 { animation: fadeUp 0.4s ease 0.32s both; }

  /* --- Layout --- */
  .container { max-width: 420px; margin: 0 auto; padding: 16px; }

  /* --- Match Header --- */
  .match-header {
    text-align: center;
    padding: 24px 16px 20px;
    position: relative;
  }
  .match-header::after {
    content: '';
    position: absolute; bottom: 0; left: 20%; right: 20%;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--card-border), transparent);
  }
  .league-badge {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 4px 12px; border-radius: 20px;
    background: var(--card-bg);
    font-size: 12px; font-weight: 500;
    color: var(--tg-theme-hint-color);
    margin-bottom: 20px;
  }
  .teams-row {
    display: flex; align-items: center; justify-content: center; gap: 20px;
  }
  .team {
    display: flex; flex-direction: column; align-items: center; gap: 10px;
    flex: 1; max-width: 130px;
  }
  .team-logo {
    width: 72px; height: 72px; border-radius: 50%;
    background: var(--card-bg);
    border: 2px solid var(--card-border);
    display: flex; align-items: center; justify-content: center;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  }
  .team-logo img {
    width: 52px; height: 52px; object-fit: contain;
  }
  .team-logo .fallback {
    font-size: 24px; font-weight: 700; color: var(--tg-theme-hint-color);
    letter-spacing: -1px;
  }
  .team-name {
    font-size: 15px; font-weight: 600; text-align: center;
    line-height: 1.2;
  }
  .vs-divider {
    display: flex; flex-direction: column; align-items: center; gap: 4px;
  }
  .vs-text {
    font-size: 11px; font-weight: 700; color: var(--tg-theme-hint-color);
    letter-spacing: 2px; text-transform: uppercase;
  }
  .match-time {
    font-family: var(--mono); font-size: 13px; font-weight: 700;
    color: var(--green);
  }

  /* --- Section --- */
  .section {
    margin-top: 20px;
  }
  .section-label {
    font-size: 11px; font-weight: 700; color: var(--tg-theme-hint-color);
    text-transform: uppercase; letter-spacing: 1.5px;
    margin-bottom: 10px; padding-left: 2px;
  }

  /* --- Odds Grid --- */
  .odds-grid {
    display: flex; gap: 6px;
  }
  .odds-cell {
    flex: 1;
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 12px;
    padding: 12px 6px;
    text-align: center;
    transition: all 0.15s;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
  }
  .odds-cell:active {
    transform: scale(0.96);
    background: var(--green-dim);
    border-color: var(--green);
  }
  .odds-cell.best {
    background: var(--green-dim);
    border-color: rgba(52,199,89,0.3);
  }
  .odds-label {
    font-size: 11px; color: var(--tg-theme-hint-color);
    margin-bottom: 4px; font-weight: 500;
  }
  .odds-value {
    font-family: var(--mono); font-size: 18px; font-weight: 700;
  }
  .odds-cell.best .odds-value { color: var(--green); }
  .odds-book {
    font-size: 9px; color: var(--tg-theme-hint-color);
    margin-top: 4px; opacity: 0.7;
  }

  /* --- Market rows --- */
  .market-card {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 12px;
    padding: 14px;
    margin-bottom: 8px;
  }
  .market-name {
    font-size: 12px; font-weight: 600;
    color: var(--tg-theme-hint-color);
    margin-bottom: 10px;
  }
  .market-options {
    display: flex; gap: 6px;
  }
  .market-btn {
    flex: 1; padding: 10px 4px; border-radius: 8px;
    background: rgba(255,255,255,0.04);
    border: 1px solid var(--card-border);
    text-align: center; cursor: pointer;
    transition: all 0.15s;
    -webkit-tap-highlight-color: transparent;
  }
  .market-btn:active {
    transform: scale(0.96);
  }
  .market-btn-label {
    font-size: 11px; color: var(--tg-theme-hint-color); margin-bottom: 2px;
  }
  .market-btn-odds {
    font-family: var(--mono); font-size: 15px; font-weight: 700;
    color: var(--tg-theme-text-color);
  }

  /* --- Stats --- */
  .stat-row {
    display: flex; justify-content: space-between; align-items: center;
    padding: 10px 14px;
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 10px;
    margin-bottom: 6px;
  }
  .stat-label {
    font-size: 12px; color: var(--tg-theme-hint-color); font-weight: 500;
  }
  .stat-values {
    display: flex; align-items: center; gap: 12px;
  }
  .stat-val {
    font-family: var(--mono); font-size: 14px; font-weight: 700;
    min-width: 40px; text-align: center;
  }
  .stat-bar-wrap {
    width: 80px; height: 4px; border-radius: 2px;
    background: rgba(255,255,255,0.06);
    position: relative; overflow: hidden;
  }
  .stat-bar {
    position: absolute; top: 0; height: 100%; border-radius: 2px;
  }
  .stat-bar.home { left: 0; background: var(--green); }
  .stat-bar.away { right: 0; background: var(--blue); }

  /* --- Form dots --- */
  .form-row {
    display: flex; align-items: center; justify-content: space-between;
    padding: 10px 14px;
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 10px;
    margin-bottom: 6px;
  }
  .form-team {
    font-size: 13px; font-weight: 500; min-width: 70px;
  }
  .form-dots {
    display: flex; gap: 4px;
  }
  .form-dot {
    width: 22px; height: 22px; border-radius: 5px;
    display: flex; align-items: center; justify-content: center;
    font-size: 10px; font-weight: 700;
  }
  .form-dot.W { background: var(--green-dim); color: var(--green); }
  .form-dot.D { background: var(--amber-dim); color: var(--amber); }
  .form-dot.L { background: var(--red-dim); color: var(--red); }

  /* --- Footer / source --- */
  .source-line {
    text-align: center;
    font-size: 10px;
    color: var(--tg-theme-hint-color);
    opacity: 0.5;
    margin-top: 24px;
    padding-bottom: 12px;
  }

  /* --- Tabs (minimal) --- */
  .tabs {
    display: flex; gap: 0; margin-bottom: 16px;
    border-bottom: 1px solid var(--card-border);
  }
  .tab {
    flex: 1; padding: 10px 0; text-align: center;
    font-size: 13px; font-weight: 600;
    color: var(--tg-theme-hint-color);
    cursor: pointer; border: none; background: none;
    position: relative;
    transition: color 0.2s;
    -webkit-tap-highlight-color: transparent;
  }
  .tab.active {
    color: var(--tg-theme-text-color);
  }
  .tab.active::after {
    content: '';
    position: absolute; bottom: -1px; left: 20%; right: 20%;
    height: 2px; background: var(--green); border-radius: 1px;
  }

  /* --- Player prop card --- */
  .player-card {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 12px;
    padding: 14px;
    display: flex; align-items: center; gap: 12px;
    margin-bottom: 8px;
  }
  .player-photo {
    width: 48px; height: 48px; border-radius: 50%;
    background: rgba(255,255,255,0.06);
    border: 1px solid var(--card-border);
    overflow: hidden; flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
  }
  .player-photo img {
    width: 100%; height: 100%; object-fit: cover;
  }
  .player-info { flex: 1; }
  .player-name { font-size: 14px; font-weight: 600; }
  .player-prop { font-size: 12px; color: var(--tg-theme-hint-color); margin-top: 2px; }
  .player-odds {
    font-family: var(--mono); font-size: 16px; font-weight: 700;
    color: var(--green);
  }

  /* --- View switcher --- */
  .view-container { display: none; }
  .view-container.active { display: block; }
</style>
</head>
<body>

<div class="container" id="app">

  <!-- ===== MATCH HEADER ===== -->
  <div class="match-header anim-1">
    <div class="league-badge">
      <span>üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø</span>
      <span>Premier League</span>
      <span style="opacity:0.4">¬∑</span>
      <span>Pe 28.2.</span>
    </div>
    <div class="teams-row">
      <div class="team">
        <div class="team-logo">
          <img src="https://resources.premierleague.com/premierleague/badges/50/t3.png"
               alt="Arsenal" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'">
          <span class="fallback" style="display:none">ARS</span>
        </div>
        <div class="team-name">Arsenal</div>
      </div>
      <div class="vs-divider">
        <div class="vs-text">vs</div>
        <div class="match-time">20:00</div>
      </div>
      <div class="team">
        <div class="team-logo">
          <img src="https://resources.premierleague.com/premierleague/badges/50/t8.png"
               alt="Chelsea" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'">
          <span class="fallback" style="display:none">CHE</span>
        </div>
        <div class="team-name">Chelsea</div>
      </div>
    </div>
  </div>

  <!-- ===== TABS ===== -->
  <div class="tabs anim-2">
    <button class="tab active" data-tab="odds" onclick="switchTab('odds')">Kertoimet</button>
    <button class="tab" data-tab="stats" onclick="switchTab('stats')">Tilastot</button>
    <button class="tab" data-tab="props" onclick="switchTab('props')">Pelaajat</button>
  </div>

  <!-- ===== ODDS VIEW ===== -->
  <div class="view-container active" id="view-odds">

    <div class="section anim-3">
      <div class="section-label">1X2 ¬∑ Paras kerroin</div>
      <div class="odds-grid">
        <div class="odds-cell best">
          <div class="odds-label">Koti</div>
          <div class="odds-value">1.85</div>
          <div class="odds-book">Pinnacle</div>
        </div>
        <div class="odds-cell">
          <div class="odds-label">Tasapeli</div>
          <div class="odds-value">3.60</div>
          <div class="odds-book">Bet365</div>
        </div>
        <div class="odds-cell">
          <div class="odds-label">Vieras</div>
          <div class="odds-value">4.20</div>
          <div class="odds-book">Unibet</div>
        </div>
      </div>
    </div>

    <div class="section anim-4">
      <div class="section-label">Muut markkinat</div>

      <div class="market-card">
        <div class="market-name">Over/Under 2.5</div>
        <div class="market-options">
          <div class="market-btn">
            <div class="market-btn-label">Over 2.5</div>
            <div class="market-btn-odds">1.95</div>
          </div>
          <div class="market-btn">
            <div class="market-btn-label">Under 2.5</div>
            <div class="market-btn-odds">1.88</div>
          </div>
        </div>
      </div>

      <div class="market-card">
        <div class="market-name">Molemmat maalaa (BTTS)</div>
        <div class="market-options">
          <div class="market-btn">
            <div class="market-btn-label">Kyll√§</div>
            <div class="market-btn-odds">1.72</div>
          </div>
          <div class="market-btn">
            <div class="market-btn-label">Ei</div>
            <div class="market-btn-odds">2.10</div>
          </div>
        </div>
      </div>

      <div class="market-card">
        <div class="market-name">Asian Handicap</div>
        <div class="market-options">
          <div class="market-btn">
            <div class="market-btn-label">Arsenal -0.5</div>
            <div class="market-btn-odds">1.90</div>
          </div>
          <div class="market-btn">
            <div class="market-btn-label">Chelsea +0.5</div>
            <div class="market-btn-odds">1.95</div>
          </div>
        </div>
      </div>

      <div class="market-card">
        <div class="market-name">Kulmat ¬∑ Yli/Alle 10.5</div>
        <div class="market-options">
          <div class="market-btn">
            <div class="market-btn-label">Over 10.5</div>
            <div class="market-btn-odds">1.87</div>
          </div>
          <div class="market-btn">
            <div class="market-btn-label">Under 10.5</div>
            <div class="market-btn-odds">1.93</div>
          </div>
        </div>
      </div>
    </div>

    <div class="source-line anim-5">
      Kertoimet haettu The Odds API ¬∑ p√§ivitetty 14:32
    </div>
  </div>

  <!-- ===== STATS VIEW ===== -->
  <div class="view-container" id="view-stats">

    <div class="section anim-3">
      <div class="section-label">Viire (5 viimeist√§)</div>
      <div class="form-row">
        <div class="form-team">Arsenal</div>
        <div class="form-dots">
          <span class="form-dot W">W</span>
          <span class="form-dot W">W</span>
          <span class="form-dot D">D</span>
          <span class="form-dot W">W</span>
          <span class="form-dot W">W</span>
        </div>
      </div>
      <div class="form-row">
        <div class="form-team">Chelsea</div>
        <div class="form-dots">
          <span class="form-dot W">W</span>
          <span class="form-dot L">L</span>
          <span class="form-dot D">D</span>
          <span class="form-dot W">W</span>
          <span class="form-dot L">L</span>
        </div>
      </div>
    </div>

    <div class="section anim-4">
      <div class="section-label">Kauden tilastot</div>

      <div class="stat-row">
        <div class="stat-val" style="color:var(--green)">1.82</div>
        <div>
          <div class="stat-label" style="text-align:center">xG / ottelu</div>
          <div class="stat-bar-wrap" style="margin-top:4px">
            <div class="stat-bar home" style="width:59%"></div>
            <div class="stat-bar away" style="width:41%"></div>
          </div>
        </div>
        <div class="stat-val" style="color:var(--blue)">1.24</div>
      </div>

      <div class="stat-row">
        <div class="stat-val" style="color:var(--green)">2.1</div>
        <div>
          <div class="stat-label" style="text-align:center">Maalit / ottelu</div>
          <div class="stat-bar-wrap" style="margin-top:4px">
            <div class="stat-bar home" style="width:62%"></div>
            <div class="stat-bar away" style="width:38%"></div>
          </div>
        </div>
        <div class="stat-val" style="color:var(--blue)">1.3</div>
      </div>

      <div class="stat-row">
        <div class="stat-val" style="color:var(--green)">56%</div>
        <div>
          <div class="stat-label" style="text-align:center">Pallonhallinta</div>
          <div class="stat-bar-wrap" style="margin-top:4px">
            <div class="stat-bar home" style="width:56%"></div>
            <div class="stat-bar away" style="width:44%"></div>
          </div>
        </div>
        <div class="stat-val" style="color:var(--blue)">51%</div>
      </div>

      <div class="stat-row">
        <div class="stat-val" style="color:var(--green)">5.8</div>
        <div>
          <div class="stat-label" style="text-align:center">Kulmat / ottelu</div>
          <div class="stat-bar-wrap" style="margin-top:4px">
            <div class="stat-bar home" style="width:55%"></div>
            <div class="stat-bar away" style="width:45%"></div>
          </div>
        </div>
        <div class="stat-val" style="color:var(--blue)">4.9</div>
      </div>
    </div>

    <div class="section anim-5">
      <div class="section-label">Keskin√§iset (5 viimeist√§)</div>
      <div style="background:var(--card-bg); border:1px solid var(--card-border); border-radius:12px; padding:20px; text-align:center;">
        <div style="font-family:var(--mono); font-size:32px; font-weight:700; letter-spacing:4px;">
          <span style="color:var(--green)">3</span>
          <span style="color:var(--tg-theme-hint-color); margin:0 4px">‚Äì</span>
          <span style="color:var(--amber)">1</span>
          <span style="color:var(--tg-theme-hint-color); margin:0 4px">‚Äì</span>
          <span style="color:var(--blue)">1</span>
        </div>
        <div style="display:flex; justify-content:center; gap:30px; margin-top:8px; font-size:11px; color:var(--tg-theme-hint-color);">
          <span>Arsenal</span>
          <span>Tasapelit</span>
          <span>Chelsea</span>
        </div>
      </div>
    </div>

    <div class="source-line anim-5">
      Tilastot: API-Sports ¬∑ kausi 2025/26
    </div>
  </div>

  <!-- ===== PLAYER PROPS VIEW ===== -->
  <div class="view-container" id="view-props">

    <div class="section anim-3">
      <div class="section-label">Maalintekij√§t</div>

      <div class="player-card">
        <div class="player-photo">
          <img src="https://resources.premierleague.com/premierleague/photos/players/250x250/p223340.png"
               alt="Saka" onerror="this.parentElement.innerHTML='<span style=&quot;font-size:20px&quot;>‚öΩ</span>'">
        </div>
        <div class="player-info">
          <div class="player-name">Bukayo Saka</div>
          <div class="player-prop">Tekee maalin milloin tahansa</div>
        </div>
        <div class="player-odds">3.20</div>
      </div>

      <div class="player-card">
        <div class="player-photo">
          <img src="https://resources.premierleague.com/premierleague/photos/players/250x250/p244851.png"
               alt="Palmer" onerror="this.parentElement.innerHTML='<span style=&quot;font-size:20px&quot;>‚öΩ</span>'">
        </div>
        <div class="player-info">
          <div class="player-name">Cole Palmer</div>
          <div class="player-prop">Tekee maalin milloin tahansa</div>
        </div>
        <div class="player-odds">3.75</div>
      </div>

      <div class="player-card">
        <div class="player-photo">
          <img src="https://resources.premierleague.com/premierleague/photos/players/250x250/p435062.png"
               alt="Havertz" onerror="this.parentElement.innerHTML='<span style=&quot;font-size:20px&quot;>‚öΩ</span>'">
        </div>
        <div class="player-info">
          <div class="player-name">Kai Havertz</div>
          <div class="player-prop">Tekee maalin milloin tahansa</div>
        </div>
        <div class="player-odds">3.50</div>
      </div>
    </div>

    <div class="section anim-4">
      <div class="section-label">Laukaukset maalia kohti</div>

      <div class="player-card">
        <div class="player-photo">
          <img src="https://resources.premierleague.com/premierleague/photos/players/250x250/p223340.png"
               alt="Saka" onerror="this.parentElement.innerHTML='<span style=&quot;font-size:20px&quot;>‚öΩ</span>'">
        </div>
        <div class="player-info">
          <div class="player-name">Bukayo Saka</div>
          <div class="player-prop">Yli 1.5 laukausta maalia kohti</div>
        </div>
        <div class="player-odds">1.85</div>
      </div>

      <div class="player-card">
        <div class="player-photo">
          <img src="https://resources.premierleague.com/premierleague/photos/players/250x250/p244851.png"
               alt="Palmer" onerror="this.parentElement.innerHTML='<span style=&quot;font-size:20px&quot;>‚öΩ</span>'">
        </div>
        <div class="player-info">
          <div class="player-name">Cole Palmer</div>
          <div class="player-prop">Yli 0.5 laukausta maalia kohti</div>
        </div>
        <div class="player-odds">1.45</div>
      </div>
    </div>

    <div class="source-line anim-5">
      Player props: The Odds API
    </div>
  </div>

</div>

<script>
  // --- Telegram WebApp integration ---
  const tg = window.Telegram?.WebApp;
  if (tg) {
    tg.ready();
    tg.expand();
    // Apply Telegram theme dynamically
    document.documentElement.style.setProperty('--tg-theme-bg-color', tg.themeParams.bg_color || '#1C1C1E');
    document.documentElement.style.setProperty('--tg-theme-secondary-bg-color', tg.themeParams.secondary_bg_color || '#2C2C2E');
    document.documentElement.style.setProperty('--tg-theme-text-color', tg.themeParams.text_color || '#FFFFFF');
    document.documentElement.style.setProperty('--tg-theme-hint-color', tg.themeParams.hint_color || '#8E8E93');
    document.documentElement.style.setProperty('--tg-theme-link-color', tg.themeParams.link_color || '#0A84FF');
    document.documentElement.style.setProperty('--tg-theme-button-color', tg.themeParams.button_color || '#34C759');
  }

  // --- Tab switching ---
  function switchTab(tabName) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');

    document.querySelectorAll('.view-container').forEach(v => v.classList.remove('active'));
    document.getElementById(`view-${tabName}`).classList.add('active');
  }

  // --- URL parameter reading (for bot integration) ---
  // Bot can open: https://your-host.com/miniapp.html?home=Arsenal&away=Chelsea&league=PL&...
  const params = new URLSearchParams(window.location.search);
  if (params.get('home')) {
    // Here you'd dynamically populate the page with real data
    console.log('Match data from bot:', {
      home: params.get('home'),
      away: params.get('away'),
      league: params.get('league'),
    });
  }
</script>

</body>
</html>
